<Project xmlns="http://schemas.microsoft.com/developer/msbuild/2003">

	<PropertyGroup>
		<HiddenInputAppPluginFolder>App_Plugins\HiddenInput</HiddenInputAppPluginFolder>
		<HiddenInputPackageContentFilesPath>$(MSBuildThisFileDirectory)..\content\$(HiddenInputAppPluginFolder)\**\*.*</HiddenInputPackageContentFilesPath>
	</PropertyGroup>

	<Target Name="CopyHiddenInputPackageAssets" BeforeTargets="Build">
		<ItemGroup>
			<HiddenInputContentFiles Include="$(HiddenInputPackageContentFilesPath)" />
		</ItemGroup>
		<Message Text="$(HiddenInputPackageContentFilesPath)"/>
		<Message Text="Copying HiddenInput files from package -> $(HiddenInputAppPluginFolder) - #@(HiddenInputContentFiles->Count()) files"  Importance="high" />
		<Warning Text="No HiddenInput Package files found in $(HiddenInputPackageContentFilesPath)" Condition="@(HiddenInputContentFiles->Count()) == 0" />
		<Copy
            SourceFiles="@(HiddenInputContentFiles)"
            DestinationFiles="@(HiddenInputContentFiles->'$(MSBuildProjectDirectory)\App_Plugins\HiddenInput\%(RecursiveDir)%(Filename)%(Extension)')"
            SkipUnchangedFiles="true" />
	</Target>

</Project>
